[build]
  base = "collide-ai-platform"
  functions = "netlify/functions"
  publish = "public"
  # Use a short debug build script so Netlify build logs show what the build container
  # actually sees. This is temporary â€” once things are working you can revert this
  # to a shorter command (for example: "python3 scripts/sync_static.py").
  command = "bash -lc 'set -e; ls -la; pwd; if [ -f netlify_build_debug.sh ]; then bash netlify_build_debug.sh; elif [ -f scripts/netlify_build_debug.sh ]; then bash scripts/netlify_build_debug.sh; else echo netlify_build_debug.sh not found >&2; find . -maxdepth 3 -type f; exit 1; fi'"

[[redirects]]
  from = "/static/*"
  to = "/static/:splat"
  status = 200

[[redirects]]
  from = "/*"
  to = "/.netlify/functions/app"
  status = 200
  force = true

# Notes:
# - Netlify will route all requests to the `app` function which wraps the Flask WSGI app.
# - Static assets should be placed in `public/` (we copy `static/` to `public/static/` below).